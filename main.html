<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <title>main</title>
      <link rel="stylesheet" type="text/css" href="style.css">
   </head>
   <body>
      <div class="menu">
         <div id="play"><!--<canvas id="animation" width="500" height="300">Click To start</canvas>-->
         <h2 id="animation">PLAY</h2>
         </div>
         <div class="header">
            <h1>Blob Mob <i>the whole story</i></h1>
            <hr>
            <!--<canvas id="animation" width="500" height="300">Click To start</canvas>-->
            <iframe width="800" height="450" src="https://www.powtoon.com/embed/dRGUXmdlqMe/" frameborder="0" onload="menuStart()"></iframe>
            <hr>
         </div>
         <div class="content-left">
            <h2>How to Play</h2>
         </div>
         <span class="divider"></span>
         <div class="content-right">
            <h2>About</h2>
         </div>
      </div>
      <div class="window">
         <canvas id="game" width="800" height="800">Sorry your browser does not support the HTML5 Canvas.</canvas>
      </div>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
       <script>
           /*const mc = document.getElementById("animation");
           const mctx = mc.getContext("2d");
           const menuVisible = $('#animation').is(':visible');
           var msx = 20;
           var msy = 20;
           var mwx = 50;
           var mwy = 50;
           var centDist = 0;
           
		   function menuStart(){
           	   if (menuVisible) window.requestAnimationFrame(menuAnim);
		   }
           
           function menuAnim(timestamp) {
               mctx.clearRect(0, 0, mc.width, mc.height);
               
               //menuDrawChar();
               
               mctx.fillStyle = 'black';
               mctx.font = "10px comic sans ms";
               const messg = "CLiCk  tO  pLaY";
               var space = 0;
               
               //Wobble letters up and down
               for(e = 0; e < messg.length; e++) {
                   var x = 25;
                   var y = 0;
                   y = (e % 2 === 0) ? y += (centDist) : y -= (centDist);
                   if((timestamp % 4000) <= 2000) centDist+= ((timestamp % 2000) <= 1000) ? 0.01 : -0.01;
                   else centDist+= ((timestamp % 2000) <= 1000) ? -0.01 : 0.01;

                   mctx.fillText(messg.slice(e,e+1), x + space, mc.height / 2 + y);
                   space += mctx.measureText(messg.slice(e,e+1)).width + 6;
               }
               
               if (menuVisible) window.requestAnimationFrame(menuAnim);
           }
           
           function mcrandom(a) {
               var rand = Math.random() * 10;
               if (rand > 5) return a + 1;
               else return a - 1;
           }
           */

           $('#animation').click(function() {
               $('.menu').fadeOut('slow', function() {
                   $('.window').fadeIn('slow');
                   $('body').css("background", "black");
                   //window.cancelAnimationFrame(menuAnim);
                   window.requestAnimationFrame(main);
               });
           });
       </script>
       
       
       <script src="level_scripts/test.js"></script>
    </body>
</html>
